<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>

<!-- Adapter factory contributions -->
   <extension point="org.eclipse.core.runtime.adapters">
      <factory
            class="org.eclipse.tcf.te.tcf.launch.ui.internal.adapters.AdapterFactory"
            adaptableType="org.eclipse.tcf.te.tcf.locator.interfaces.nodes.IPeerModel">
         <adapter type="org.eclipse.debug.ui.actions.ILaunchable"/>
      </factory>
   </extension>

<!-- Launch configuration type contributions -->
   <extension point="org.eclipse.debug.ui.launchConfigurationTypeImages">
      <launchConfigurationTypeImage
            configTypeID="org.eclipse.tcf.te.tcf.launch.type.remote.app"
            icon="icons/obj16/remote_app.gif"
            id="org.eclipse.tcf.te.tcf.launch.type.remote.app.image"/>
   </extension>

<!-- Launch configuration tab group contributions -->
   <extension point="org.eclipse.debug.ui.launchConfigurationTabGroups">
      <launchConfigurationTabGroup
            class="org.eclipse.tcf.te.tcf.launch.ui.remote.app.LaunchConfigurationTabGroup"
            id="org.eclipse.tcf.te.tcf.launch.type.remote.app.tabgroup"
            type="org.eclipse.tcf.te.tcf.launch.type.remote.app"/>
   </extension>
   
 <!-- Launch shortcut contributions -->
   <extension point="org.eclipse.debug.ui.launchShortcuts">
      <shortcut
            class="org.eclipse.tcf.te.tcf.launch.ui.remote.app.LaunchShortcut"
            id="org.eclipse.tcf.te.tcf.launch.ui.launchshortcut.remote.app.run"
            label="%LaunchShortcut.Remote.App.name"
            icon="icons/obj16/remote_app.gif"
            modes="run">
         <contextualLaunch>
            <enablement>
               <with variable="selection">
                  <count value="1"/>
                  <iterate
                        ifEmpty="false"
                        operator="and">
                     <test 
                           forcePluginActivation="true"
                           property="org.eclipse.tcf.te.launch.core.isValidLaunchConfigType"
                           value="org.eclipse.tcf.te.tcf.launch.type.remote.app"
                           args="run"/>
                  </iterate>
               </with>
            </enablement>
         </contextualLaunch>
      </shortcut>
      <shortcut
            class="org.eclipse.tcf.te.tcf.launch.ui.remote.app.LaunchShortcut"
            id="org.eclipse.tcf.te.tcf.launch.ui.launchshortcut.remote.app.debug"
            label="%LaunchShortcut.Remote.App.name"
            icon="icons/obj16/remote_app.gif"
            modes="debug">
         <contextualLaunch>
            <enablement>
               <with variable="selection">
                  <count value="1"/>
                  <iterate
                        ifEmpty="false"
                        operator="and">
                     <test 
                           property="org.eclipse.tcf.te.launch.core.isValidLaunchConfigType"
                           value="org.eclipse.tcf.te.tcf.launch.type.remote.app"
                           args="debug"/>
                  </iterate>
               </with>
            </enablement>
         </contextualLaunch>
      </shortcut>
   </extension>

<!-- Editor page binding contributions -->
   <extension point="org.eclipse.tcf.te.ui.views.editorPageBindings">
      <editorPageBinding
            id="org.eclipse.tcf.te.tcf.launch.ui.binding.LaunchEditorPage"
            pageId="org.eclipse.tcf.te.launch.ui.LaunchEditorPage"
            insertBefore="org.eclipse.tcf.te.tcf.filesystem.FSExplorerEditorPage"
            insertAfter="org.eclipse.tcf.te.tcf.ui.OverviewEditorPage">
         <enablement>
            <with variable="activeEditorInput">
               <instanceof value="org.eclipse.tcf.te.tcf.locator.interfaces.nodes.IPeerModel"/>
            </with>
         </enablement>
      </editorPageBinding>
   </extension>

<!-- Navigator viewer contributions -->
   <extension point="org.eclipse.ui.navigator.viewer">
      <viewerContentBinding viewerId="org.eclipse.tcf.te.ui.views.View">
         <includes>
            <contentExtension 
                  pattern="org.eclipse.tcf.te.tcf.launch.ui.navigator.*"
                  isRoot="false"/>
         </includes>
      </viewerContentBinding>
   </extension>
   
<!-- Navigator content contributions -->
   <extension point="org.eclipse.ui.navigator.navigatorContent">
      <navigatorContent
            id="org.eclipse.tcf.te.tcf.launch.ui.navigator.content"
            name="%LauchTree.name"
      		icon="icons/obj16/launches_root.gif"
            activeByDefault="false"
            contentProvider="org.eclipse.tcf.te.launch.ui.internal.viewer.LaunchNavigatorContentProvider"
            labelProvider="org.eclipse.tcf.te.launch.ui.internal.viewer.LaunchTreeLabelProvider"
            priority="normal">
         <triggerPoints>
            <instanceof value="org.eclipse.tcf.te.tcf.locator.interfaces.nodes.IPeerModel"/>
         </triggerPoints>
         <possibleChildren>
            <instanceof value="org.eclipse.tcf.te.launch.ui.model.LaunchNode"/>
         </possibleChildren>
         <commonSorter class="org.eclipse.tcf.te.launch.ui.internal.viewer.LaunchTreeViewerSorter"/>
      </navigatorContent>
   </extension>

<!-- Property section contributions -->
   <extension point="org.eclipse.ui.views.properties.tabbed.propertySections">
      <propertySections contributorId="org.eclipse.tcf.te.ui">
         <propertySection
               id="org.eclipse.tcf.te.tcf.launch.ui.propertytab.remote.app"
               class="org.eclipse.tcf.te.tcf.launch.ui.remote.app.RemoteAppPropertiesSection"
               enablesFor="1"
               afterSection="org.eclipse.tcf.te.launch.ui.launchcontext"
               filter="org.eclipse.tcf.te.tcf.launch.ui.remote.app.RemoteAppFilter"
               tab="org.eclipse.tcf.te.launch.ui.propertytab.general"/>
      </propertySections>
   </extension>

   <extension point="org.eclipse.ui.views.properties.tabbed.propertySections">
      <propertySections contributorId="org.eclipse.ui.navigator.ProjectExplorer">
         <propertySection
               id="org.eclipse.tcf.te.tcf.launch.ui.project.propertytab.remote.app"
               class="org.eclipse.tcf.te.tcf.launch.ui.remote.app.RemoteAppPropertiesSection"
               enablesFor="1"
               afterSection="org.eclipse.tcf.te.launch.ui.project.launchcontext"
               filter="org.eclipse.tcf.te.tcf.launch.ui.remote.app.RemoteAppFilter"
               tab="org.eclipse.tcf.te.launch.ui.project.propertytab.general"/>
      </propertySections>
   </extension>
</plugin>
